import io
import sys
from collections import deque


def debug_input():
    _INPUT = """\
50 50
2 2
49 49
##################################################
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
#................................................#
##################################################

    """

    sys.stdin = io.StringIO(_INPUT)


def main():
    R, C = map(int, input().split())
    S_y, S_x = map(int, input().split())
    G_y, G_x = map(int, input().split())
    S_y -= 1
    S_x -= 1
    G_y -= 1
    G_x -= 1

    S = [list(input()) for _ in range(R)]
    dist = [[-1] * C for _ in range(R)]
    dist[S_y][S_x] = 0

    Q = deque()
    Q.append((S_y, S_x))

    while len(Q) > 0:
        y, x = Q.popleft()
        for dy, dx in ((1, 0), (-1, 0), (0, 1), (0, -1)):
            ny = y + dy
            nx = x + dx
            if ny < 0 or ny >= R or nx < 0 or nx >= C:
                continue
            if S[ny][nx] == "#":
                continue
            if dist[ny][nx] == -1:
                dist[ny][nx] = dist[y][x] + 1
                Q.append((ny, nx))
            if ny == G_y and nx == G_x:
                print(dist[ny][nx])
                return


if __name__ == "__main__":
    # debug_input()
    main()
